<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Hike Bike Wake Chat</title>
    <meta name="description" content="Hike Bike Wake Chat"/>
    <meta name="viewport" content="width=device-width"/>
    <meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>
    <base href="/"/>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/dist/css/bootstrap.min.css"/>
    <link th:href="@{/styles/app.css}" rel="stylesheet" type="text/css"  />
 </head>

<body class="d-flex flex-column min-vh-100">
<header>
    <nav class="navbar navbar-light bg-light ps-5">
        <span class="navbar-brand mb-0 h1">Passenger</span>
        <a class="navbar-brand" href="/logout">Logout</a>
    </nav>
</header>
<main>
    <div class="container" >
        <div class="row mt-4">
            <div class="col-md-12">
                <ul id="chatMessagesLoad" class="bg-light p-3" >
                    <li class="message" data-th-each="chat : ${chats}">
                        <span class="sender">[[${chat.sender}]]:</span>
                        [[${chat.message}]]
                        <small class="timestamp">[[${#dates.format(new java.util.Date(chat.timeStamp))}]]</small>
                    </li>
                </ul>
                <ul id="chatMessages" class="bg-light p-3" >

                </ul>
            </div>
        </div>
    </div>
</main>
<footer class="mt-auto">
    <nav class="navbar navbar-light bg-light ps-5">
        <span class="navbar-brand mb-0 h1"></span>
        <span class="nav-item">
            <form id="chatForm" class="mb-3">
                <input class="mr-sm-2" id="message" name="message" type="text"/>
                <button type="submit" id="message-button" name="message-button"
                    class="btn btn-outline-success my-2 my-sm-0 btn-sm btn-block">Chat</button>
            </form>
        </span>
        <span class="navbar-brand mb-0 h1"></span>
    </nav>
</footer>
<script type="text/javascript" th:src="@{/webjars/jquery/3.7.1/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/js/app.js}"></script>
</body>
</html>
